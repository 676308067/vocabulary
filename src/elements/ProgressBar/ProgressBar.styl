@import "~@/assets/tokens/tokens.styl"
@import "~@/styles/colors.styl"
@import "~@/styles/sizes.styl"

.vocab.progress-bar
  --progress-color $color-tone-black
  --bar-color $color-tone-grey-lighter
  colors('--progress-color')

  sizes('font-size')

  display inline-flex
  flex-direction row
  align-items center

  .bar
    appearance none

    background-color var(--bar-color)

    border none

    margin-right $space-normal

    &[value]
      &::-moz-progress-bar
        background-color var(--progress-color)

      &::-webkit-progress-bar
        background-color var(--bar-color)

      &::-webkit-progress-value
        background-color var(--progress-color)

    &:indeterminate
      background-image linear-gradient(
              90deg,
              var(--progress-color) 30%,
              var(--bar-color) 30%
      )
      background-repeat no-repeat
      background-size 150% 150%

      animation moveIndeterminate 1s linear infinite

      &::-moz-progress-bar
        background-color transparent

      &::-webkit-progress-bar
        background-color transparent

  &.positive
    --progress-color $color-context-positive

  &.negative
    --progress-color $color-context-negative

  &.inverted
    color $color-tone-white
    --bar-color $color-tone-grey-darker

@keyframes moveIndeterminate
  from
    background-position: 200% 0
  to
    background-position: -200% 0
